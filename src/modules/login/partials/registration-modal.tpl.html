<div class="modal" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-md">
    <div class="modal-content">

      <div class="modal-header text-center">
        <h4 class="modal-title authform-header-content">Register</h4>
        <span type="button" class="glyphicon glyphicon-remove pull-right
          authform-header-content" id="authform-close" data-dismiss="modal"
          ng-click="regDismiss()">
        </span>
      </div>

      <div class="modal-body">
        <form ng-submit="createUser(user)" name="regForm" novalidate>
          <div class="alert alert-success" role="alert" ng-show="success &&
            message">{{message}}</div>
          <div class="alert alert-danger" role="alert" ng-show="!success &&
            message">{{message}}</div>

          <div class="form-group" ng-class="{ 'has-error' : regForm.userName.$invalid && regForm.$dirty }">
            <div class="input-group">
              <span class="input-group-addon">
                <i class="glyphicon glyphicon-user"></i>
              </span>
              <input type="text" class="form-control" id="user-name" name="userName"
                ng-model="user.name"
                required
                placeholder="Your name">
            </div>
            <p class="help-block" ng-show="regForm.userName.$invalid && regForm.userName.$dirty">
              <span>You forgot to write your name</span>
            </p>
          </div>

          <div class="form-group"
            ng-class="{ 'has-error' : (regForm.userEmail.$invalid &&
            regForm.userEmail.$dirty) || (regForm.$submitted && !success) }">
            <div class="input-group">
              <span class="input-group-addon">
                @
              </span>
              <input type="email" class="form-control" id="user-email"
                name="userEmail"
                ng-model="user.email"
                required
                placeholder="E-mail">
            </div>
            <p class="help-block" ng-show="regForm.userEmail.$invalid &&
              regForm.userEmail.$dirty">
              <span>You must specify a valid email</span>
            </p>
            <p class="help-block" ng-show="mailerror">
              <span>This emailaddress is already occupied</span>
            </p>
          </div>

          <div class="form-group"
            ng-class="{ 'has-error' : regForm.userPassword.$invalid &&
            regForm.userPassword.$dirty || passworderror }">
            <div class="input-group">
              <span class="input-group-addon">
                <i class="glyphicon glyphicon-lock"></i>
              </span>
              <input type="password" class="form-control" id="user-password"
                name="userPassword"
                ng-model="user.password"
                ng-minlength="8"
                required
                placeholder="Password">
            </div>
            <p class="help-block" ng-show="regForm.userPassword.$invalid &&
              regForm.userPassword.$dirty || passworderror">
              <span>Your password must contain minimum of 8 letters</span>
            </p>
          </div>

          <div class="form-group"
            ng-class="{ 'has-error' : regForm.userConfirm.$invalid &&
            regForm.userConfirm.$dirty }">
            <div class="input-group">
              <span class="input-group-addon">
                x2
              </span>
              <input type="password" class="form-control" id="user-confirm"
                name="userConfirm"
                ng-model="user.confirm"
                password-verify="user.password"
                required
                placeholder="Repeat password">
            </div>
            <p class="help-block" ng-show="regForm.userConfirm.$error.passwordVerify">
              <span>You did not repeat the password correctly</span>
            </p>
          </div>

          <div class="modal-footer text-center">
            <button type="submit" class="btn btn-block btn-lg btn-wind">
              Register
            </button>
          </div>
        </form>
      </div>

    </div>
  </div>
</div>
